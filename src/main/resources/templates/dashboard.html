<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Your Contacts</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
</head>
<header>
    <div th:insert="fragments/navbar :: navbar"></div>
</header>
<body>
    
<h1>Your Contacts</h1>

<div th:if="${success}">
    <p th:text="${success}"></p>
</div>

<!-- Display list of contacts -->
<div th:if="${contacts}">
    <ul>
        <li th:each="contact : ${contacts}">
            <span th:text="${contact.contactName}"></span> - 
            <span th:text="${contact.contactEmail}"></span> - 
            <span th:text="${contact.contactPhone}"></span> - 
            <span th:text="${contact.contactAddress}"></span>

            <!-- Edit link -->
            <a th:href="@{/dashboard/edit/{id}(id=${contact.id})}">Edit</a>

            <!-- Delete form -->
            <form th:action="@{/dashboard/delete/{id}(id=${contact.id})}" method="post" style="display:inline;">
                <button type="submit">Delete</button>
            </form>
        </li>
    </ul>
</div>

<!-- Link to create a new contact -->
<a href="/dashboard/create">Create New Contact</a>
</body>
</html>
